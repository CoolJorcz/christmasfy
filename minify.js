function setBody(){var e=document.createElement("div");var t=document.getElementsByTagName("div");var n=document.getElementsByTagName("body")[0];e.setAttribute("id","snowglobe");e.style.width="100%";e.style.height="100%";e.style.position="relative";e.style.top="0";e.style.left="0";e.style.overflow="hidden";for(var r=0;r<t.length;r++){e.appendChild(t[r])}n.appendChild(e)}function letItSnow(){function e(){var e=0;if(self.innerHeight){e=self.innerWidth}else if(document.documentElement&&document.documentElement.clientHeight){e=document.documentElement.clientWidth}return e}function t(){var e=0;if(self.innerHeight){e=self.innerHeight}else if(document.documentElement&&document.documentElement.clientHeight){e=document.documentElement.clientHeight}else if(document.body){e=document.body.clientHeight}return e}function n(e,t){return Math.floor(Math.random()*(t-e+1))+e}function h(){for(var e=0;e<a.length;e++){newX=false;newY=false;newY=parseFloat(a[e].style.top)+a[e].speed/100*o;if(newY>i){newY=0-parseInt(a[e].style.fontSize);newX=n(0,r)}if(!newX)newX=parseFloat(a[e].style.left)+Math.sin(newY/u);if(newX<-20)newX=r+20;if(newX>r+20)newX=-20;a[e].style.top=newY+"px";a[e].style.left=newX+"px"}}var r=e();var i=t();var s=50;var o=.7;var u=20;var a=[];var f=0;var l=document.getElementById("snowglobe");while(f<s){var c=document.createElement("div");c.className="flake";c.style.position="absolute";c.style.width="1px";c.style.height="1px";c.style.color="#99C8FE";c.style.textShadow="0 0 3px rgba(255,255,255,1)";c.style.fontSize=n(12,24)+"px";c.style.top=n(0,i)+"px";c.style.left=n(0,r)+"px";c.innerHTML=".";newFlake=l.appendChild(c);newFlake.speed=n(1,100);a.push(newFlake);f++}setInterval(h,10);window.onresize=function(n){r=e();i=t()}}function Christmas(e,t){this.ratio=e;this.imageurl=t}function Randomize(e){return Math.floor(Math.random()*e.length)}function imageRatio(e){var t=e.height/e.width;if(t>1){return"vertical"}else if(t===1){return"square"}else if(t<1){return"horizontal"}}function transformToChristmas(){function t(e){return Math.floor(Math.random()*e.length)}function n(e){return e[t(e)]}document.getElementsByTagName("body")[0].style.backgroundImage='url("http://crazy-frankenstein.com/free-wallpapers-files/christmas-santa-claus-wallpapers/santa-claus-arrived.jpg")';document.getElementsByTagName("body")[0].innerHTML+='<canvas id="canvas"></canvas>';document.getElementsByTagName("head")[0].innerHTML+='<audio loop="loop" autoplay="autoplay" controls="hidden"><source src="http://www.merry-christmas.com/christmas-music/music_files/twelv.mp3"/></audio>';var e=["src='http://icons.iconarchive.com/icons/instatuts/christmas-theme/256/Stocking-icon.png'>","src='http://icons.iconarchive.com/icons/instatuts/christmas-theme/256/Christmas-Present-3-icon.png'>","src='http://icons.iconarchive.com/icons/instatuts/christmas-theme/256/Snowman-icon.png'>","src='http://icons.iconarchive.com/icons/instatuts/christmas-theme/256/Christmas-Present-2-icon.png'>","src='http://icons.iconarchive.com/icons/instatuts/christmas-theme/256/Christmas-Present-4-icon.png'>","src='http://icons.iconarchive.com/icons/instatuts/christmas-theme/256/Christmas-Tree-icon.png'>","src='http://icons.iconarchive.com/icons/instatuts/christmas-theme/256/Santa-icon.png'>","src='http://icons.iconarchive.com/icons/instatuts/christmas-theme/256/Christmas-Present-1-icon.png'>","src='http://icons.iconarchive.com/icons/instatuts/christmas-theme/256/Christmas-Ornament-3-icon.png'>","src='http://icons.iconarchive.com/icons/instatuts/christmas-theme/256/Christmas-Ornament-2-icon.png>","src='http://icons.iconarchive.com/icons/instatuts/christmas-theme/256/Christmas-Ornament-1-icon.png'>","src='http://icons.iconarchive.com/icons/instatuts/christmas-theme/256/Christmas-Letter-icon.png'>"];window.addEventListener("click",function(t){t.stopPropagation();var r='<img class="christmas" style="position:absolute;z-index:10;top:'+t.y+"px;left:"+t.x+'px" '+n(e);document.getElementsByTagName("body")[0].innerHTML+=r;letItSnow()})}var implementHoliday={init:function(e){this.christmasGif=e},horizontal:function(){return this.christmasGif.filter(function(e){return e.ratio==="horizontal"})},vertical:function(){return this.christmasGif.filter(function(e){return e.ratio==="vertical"})},square:function(){return this.christmasGif.filter(function(e){return e.ratio==="square"})}};var christmasGif=[new Christmas("square","http://www.christmasgifs.org/artists/menard/full.gif"),new Christmas("vertical","http://www.christmasgifs.org/artists/stockdale/full.gif"),new Christmas("horizontal","http://www.christmasgifs.org/artists/dear/full.gif"),new Christmas("horizontal","http://31.media.tumblr.com/bb9645bde39d7705ff13a5ffc4dd386c/tumblr_mfulpjEYoJ1rev1g5o1_500.gif"),new Christmas("horizontal","http://24.media.tumblr.com/f05527c3cdaa1cdabbc7cc41e2cc9140/tumblr_mflqkpkQ8Q1r4uycao1_250.gif"),new Christmas("horizontal","http://24.media.tumblr.com/623f269461eaa6c7ecf56ae3d74ee0d3/tumblr_mfiui7EfBq1qck7l0o1_r1_500.gif"),new Christmas("horizontal","http://24.media.tumblr.com/8c19d8f533db5ebb433f9b9834b4c861/tumblr_mfgzzsWLIU1rmk138o1_400.gif"),new Christmas("horizontal","http://31.media.tumblr.com/425ae242c2b1c258c8de8d0802c5aa9e/tumblr_mfkqlcMpS51r5ge8lo8_250.gif"),new Christmas("horizontal","http://media3.giphy.com/media/4txbdOMP0CdP2/giphy.gif")];(function(e){setBody();transformToChristmas();letItSnow();implementHoliday.init(christmasGif);var t;var n;var r=e.getElementsByTagName("img");imageCount=r.length;for(var i=0;i<r.length;i++){r[i].onload=function(){t=this.width;n=this.height}}var s=e.getElementsByTagName("img")[0];for(var i=0;i<imageCount;i++){var s=r[i];if(s.attributes["src"]){var o=imageRatio(s);var u=Randomize(implementHoliday[o]);var a=implementHoliday[o]()[u];r[i].src=a.imageurl}}})(document)



  
